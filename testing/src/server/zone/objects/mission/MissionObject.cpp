/*
 *	server/zone/objects/mission/MissionObject.cpp generated by engine3 IDL compiler 0.60
 */

#include "MissionObject.h"

#include "server/zone/objects/scene/SceneObject.h"

#include "server/zone/objects/waypoint/WaypointObject.h"

#include "server/zone/Zone.h"

/*
 *	MissionObjectStub
 */

MissionObject::MissionObject() : IntangibleObject(DummyConstructorParameter::instance()) {
	_impl = new MissionObjectImplementation();
	_impl->_setStub(this);
}

MissionObject::MissionObject(DummyConstructorParameter* param) : IntangibleObject(param) {
}

MissionObject::~MissionObject() {
}


TransactionalObject* MissionObject::clone() {
	MissionObject* objectCopy = new MissionObject(DummyConstructorParameter::instance());
	objectCopy->_impl = new MissionObjectImplementation(DummyConstructorParameter::instance());
	*((MissionObjectImplementation*) objectCopy->_impl) = *((MissionObjectImplementation*) _impl);
	objectCopy->_impl->_setStub(objectCopy);
	return (TransactionalObject*) objectCopy;
}


void MissionObject::initializeTransientMembers() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 6);

		method.executeWithVoidReturn();
	} else
		((MissionObjectImplementation*) _impl)->initializeTransientMembers();
}

void MissionObject::sendBaselinesTo(SceneObject* player) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 7);
		method.addObjectParameter(player);

		method.executeWithVoidReturn();
	} else
		((MissionObjectImplementation*) _impl)->sendBaselinesTo(player);
}

WaypointObject* MissionObject::getWaypointToMission() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 8);

		return (WaypointObject*) method.executeWithObjectReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getWaypointToMission();
}

unsigned int MissionObject::getTypeCRC() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 9);

		return method.executeWithUnsignedIntReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getTypeCRC();
}

int MissionObject::getRewardCredits() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 10);

		return method.executeWithSignedIntReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getRewardCredits();
}

UnicodeString MissionObject::getCreatorName() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 11);

		method.executeWithUnicodeReturn(_return_getCreatorName);
		return _return_getCreatorName;
	} else
		return ((MissionObjectImplementation*) _impl)->getCreatorName();
}

int MissionObject::getDifficultyLevel() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 12);

		return method.executeWithSignedIntReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getDifficultyLevel();
}

StringId* MissionObject::getMissionDescription() {
	if (_impl == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return ((MissionObjectImplementation*) _impl)->getMissionDescription();
}

StringId* MissionObject::getMissionTitle() {
	if (_impl == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return ((MissionObjectImplementation*) _impl)->getMissionTitle();
}

String MissionObject::getTargetName() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 13);

		method.executeWithAsciiReturn(_return_getTargetName);
		return _return_getTargetName;
	} else
		return ((MissionObjectImplementation*) _impl)->getTargetName();
}

int MissionObject::getRefreshCounter() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 14);

		return method.executeWithSignedIntReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getRefreshCounter();
}

unsigned int MissionObject::getTargetTemplateCRC() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 15);

		return method.executeWithUnsignedIntReturn();
	} else
		return ((MissionObjectImplementation*) _impl)->getTargetTemplateCRC();
}

/*
 *	MissionObjectImplementation
 */

MissionObjectImplementation::MissionObjectImplementation(DummyConstructorParameter* param) : IntangibleObjectImplementation(param) {
	_initializeImplementation();
}

MissionObjectImplementation::~MissionObjectImplementation() {
	MissionObjectImplementation::finalize();
}


void MissionObjectImplementation::_initializeImplementation() {
	_setClassHelper(MissionObjectHelper::instance());

	_serializationHelperMethod();
}

void MissionObjectImplementation::_setStub(DistributedObjectStub* stub) {
	_this = (MissionObject*) stub;
	IntangibleObjectImplementation::_setStub(stub);
}

DistributedObjectStub* MissionObjectImplementation::_getStub() {
	return _this;
}

MissionObjectImplementation::operator const MissionObject*() {
	return _this;
}

void MissionObjectImplementation::lock(bool doLock) {
	_this->lock(doLock);
}

void MissionObjectImplementation::lock(ManagedObject* obj) {
	_this->lock(obj);
}

void MissionObjectImplementation::rlock(bool doLock) {
	_this->rlock(doLock);
}

void MissionObjectImplementation::wlock(bool doLock) {
	_this->wlock(doLock);
}

void MissionObjectImplementation::wlock(ManagedObject* obj) {
	_this->wlock(obj);
}

void MissionObjectImplementation::unlock(bool doLock) {
	_this->unlock(doLock);
}

void MissionObjectImplementation::runlock(bool doLock) {
	_this->runlock(doLock);
}

void MissionObjectImplementation::_serializationHelperMethod() {
	IntangibleObjectImplementation::_serializationHelperMethod();

	_setClassName("MissionObject");

	addSerializableVariable("waypointToMission", &waypointToMission);
	addSerializableVariable("typeCRC", &typeCRC);
	addSerializableVariable("difficultyLevel", &difficultyLevel);
	addSerializableVariable("creatorName", &creatorName);
	addSerializableVariable("rewardCredits", &rewardCredits);
	addSerializableVariable("missionDescription", &missionDescription);
	addSerializableVariable("missionTitle", &missionTitle);
	addSerializableVariable("refreshCounter", &refreshCounter);
	addSerializableVariable("targetName", &targetName);
	addSerializableVariable("targetTemplateCRC", &targetTemplateCRC);
}

MissionObjectImplementation::MissionObjectImplementation() {
	_initializeImplementation();
	// server/zone/objects/mission/MissionObject.idl(90):  		typeCRC = MUSICIAN;
	typeCRC = MUSICIAN;
	// server/zone/objects/mission/MissionObject.idl(92):  		refreshCounter = 0;
	refreshCounter = 0;
	// server/zone/objects/mission/MissionObject.idl(94):  		targetTemplateCRC = 0;
	targetTemplateCRC = 0;
	// server/zone/objects/mission/MissionObject.idl(96):  		rewardCredits = 0;
	rewardCredits = 0;
	// server/zone/objects/mission/MissionObject.idl(98):  		difficultyLevel = 0;
	difficultyLevel = 0;
	// server/zone/objects/mission/MissionObject.idl(100):  		Logger.setLoggingName("MissionObject");
	Logger::setLoggingName("MissionObject");
}

void MissionObjectImplementation::finalize() {
}

WaypointObject* MissionObjectImplementation::getWaypointToMission() {
	// server/zone/objects/mission/MissionObject.idl(111):  		return waypointToMission;
	return waypointToMission;
}

unsigned int MissionObjectImplementation::getTypeCRC() {
	// server/zone/objects/mission/MissionObject.idl(115):  		return typeCRC;
	return typeCRC;
}

int MissionObjectImplementation::getRewardCredits() {
	// server/zone/objects/mission/MissionObject.idl(119):  		return rewardCredits;
	return rewardCredits;
}

UnicodeString MissionObjectImplementation::getCreatorName() {
	// server/zone/objects/mission/MissionObject.idl(123):  		return creatorName;
	return creatorName;
}

int MissionObjectImplementation::getDifficultyLevel() {
	// server/zone/objects/mission/MissionObject.idl(127):  		return difficultyLevel;
	return difficultyLevel;
}

StringId* MissionObjectImplementation::getMissionDescription() {
	// server/zone/objects/mission/MissionObject.idl(132):  		return missionDescription;
	return (&missionDescription);
}

StringId* MissionObjectImplementation::getMissionTitle() {
	// server/zone/objects/mission/MissionObject.idl(137):  		return missionTitle;
	return (&missionTitle);
}

String MissionObjectImplementation::getTargetName() {
	// server/zone/objects/mission/MissionObject.idl(141):  		return targetName;
	return targetName;
}

int MissionObjectImplementation::getRefreshCounter() {
	// server/zone/objects/mission/MissionObject.idl(145):  		return refreshCounter;
	return refreshCounter;
}

unsigned int MissionObjectImplementation::getTargetTemplateCRC() {
	// server/zone/objects/mission/MissionObject.idl(149):  		return targetTemplateCRC;
	return targetTemplateCRC;
}

/*
 *	MissionObjectAdapter
 */

MissionObjectAdapter::MissionObjectAdapter(MissionObjectImplementation* obj) : IntangibleObjectAdapter(obj) {
}

Packet* MissionObjectAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case 6:
		finalize();
		break;
	case 7:
		initializeTransientMembers();
		break;
	case 8:
		sendBaselinesTo((SceneObject*) inv->getObjectParameter());
		break;
	case 9:
		resp->insertLong(getWaypointToMission()->_getObjectID());
		break;
	case 10:
		resp->insertInt(getTypeCRC());
		break;
	case 11:
		resp->insertSignedInt(getRewardCredits());
		break;
	case 12:
		resp->insertUnicode(getCreatorName());
		break;
	case 13:
		resp->insertSignedInt(getDifficultyLevel());
		break;
	case 14:
		resp->insertAscii(getTargetName());
		break;
	case 15:
		resp->insertSignedInt(getRefreshCounter());
		break;
	case 16:
		resp->insertInt(getTargetTemplateCRC());
		break;
	default:
		return NULL;
	}

	return resp;
}

void MissionObjectAdapter::finalize() {
	((MissionObjectImplementation*) impl)->finalize();
}

void MissionObjectAdapter::initializeTransientMembers() {
	((MissionObjectImplementation*) impl)->initializeTransientMembers();
}

void MissionObjectAdapter::sendBaselinesTo(SceneObject* player) {
	((MissionObjectImplementation*) impl)->sendBaselinesTo(player);
}

WaypointObject* MissionObjectAdapter::getWaypointToMission() {
	return ((MissionObjectImplementation*) impl)->getWaypointToMission();
}

unsigned int MissionObjectAdapter::getTypeCRC() {
	return ((MissionObjectImplementation*) impl)->getTypeCRC();
}

int MissionObjectAdapter::getRewardCredits() {
	return ((MissionObjectImplementation*) impl)->getRewardCredits();
}

UnicodeString MissionObjectAdapter::getCreatorName() {
	return ((MissionObjectImplementation*) impl)->getCreatorName();
}

int MissionObjectAdapter::getDifficultyLevel() {
	return ((MissionObjectImplementation*) impl)->getDifficultyLevel();
}

String MissionObjectAdapter::getTargetName() {
	return ((MissionObjectImplementation*) impl)->getTargetName();
}

int MissionObjectAdapter::getRefreshCounter() {
	return ((MissionObjectImplementation*) impl)->getRefreshCounter();
}

unsigned int MissionObjectAdapter::getTargetTemplateCRC() {
	return ((MissionObjectImplementation*) impl)->getTargetTemplateCRC();
}

/*
 *	MissionObjectHelper
 */

MissionObjectHelper* MissionObjectHelper::staticInitializer = MissionObjectHelper::instance();

MissionObjectHelper::MissionObjectHelper() {
	className = "MissionObject";

	DistributedObjectBroker::instance()->registerClass(className, this);
}

void MissionObjectHelper::finalizeHelper() {
	MissionObjectHelper::finalize();
}

DistributedObject* MissionObjectHelper::instantiateObject() {
	return new MissionObject(DummyConstructorParameter::instance());
}

DistributedObjectServant* MissionObjectHelper::instantiateServant() {
	return new MissionObjectImplementation(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* MissionObjectHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new MissionObjectAdapter((MissionObjectImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

