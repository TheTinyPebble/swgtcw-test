/*
 *	server/zone/managers/bazaar/BazaarManager.h generated by engine3 IDL compiler 0.55
 */

#ifndef BAZAARMANAGER_H_
#define BAZAARMANAGER_H_

#include "engine/orb/DistributedObjectBroker.h"

class AuctionItem;

class Player;

class RegionBazaar;

class BazaarPlanetManager;

class ZoneServer;

#include "server/zone/ZoneProcessServerImplementation.h"

class BazaarManager : public DistributedObjectStub {
public:
	BazaarManager(ZoneServer* server, ZoneProcessServerImplementation* processor);

	void newBazaarRequest(unsigned long long bazaarID, Player* player, int planet);

	bool isBazaarTerminal(unsigned long long objectID);

	void addSaleItem(Player* player, unsigned long long objectid, unsigned long long bazaarid, UnicodeString& description, int price, int duration, bool auction);

	void getBazaarData(Player* player, unsigned long long objectid, int screen, int extent, unsigned int category, int count, int offset);

	RegionBazaar* getBazaar(unsigned long long bazaarid);

	BazaarPlanetManager* getPlanet(unsigned long long bazaarid);

	void buyItem(Player* player, unsigned long long objectid, int price1, int price2);

	void retrieveItem(Player* player, unsigned long long objectid, long long bazaarid);

	void getItemAttributes(Player* player, unsigned long long objectId);

protected:
	BazaarManager(DummyConstructorParameter* param);

	virtual ~BazaarManager();

	friend class BazaarManagerHelper;
};

class BazaarManagerImplementation;

class BazaarManagerAdapter : public DistributedObjectAdapter {
public:
	BazaarManagerAdapter(BazaarManagerImplementation* impl);

	Packet* invokeMethod(sys::uint32 methid, DistributedMethod* method);

	void newBazaarRequest(unsigned long long bazaarID, Player* player, int planet);

	bool isBazaarTerminal(unsigned long long objectID);

	void addSaleItem(Player* player, unsigned long long objectid, unsigned long long bazaarid, UnicodeString& description, int price, int duration, bool auction);

	void getBazaarData(Player* player, unsigned long long objectid, int screen, int extent, unsigned int category, int count, int offset);

	RegionBazaar* getBazaar(unsigned long long bazaarid);

	BazaarPlanetManager* getPlanet(unsigned long long bazaarid);

	void buyItem(Player* player, unsigned long long objectid, int price1, int price2);

	void retrieveItem(Player* player, unsigned long long objectid, long long bazaarid);

	void getItemAttributes(Player* player, unsigned long long objectId);

protected:
	UnicodeString _param3_addSaleItem__Player_long_long_UnicodeString_int_int_bool_;
};

class BazaarManagerHelper : public DistributedObjectClassHelper, public Singleton<BazaarManagerHelper> {
	static BazaarManagerHelper* staticInitializer;

public:
	BazaarManagerHelper();

	void finalizeHelper();

	DistributedObject* instantiateObject();

	DistributedObjectAdapter* createAdapter(DistributedObjectStub* obj);

	friend class SingletonWrapper<BazaarManagerHelper>;
};

class BazaarManagerServant : public DistributedObjectServant {
public:
	BazaarManager* _this;

public:
	BazaarManagerServant();
	virtual ~BazaarManagerServant();

	void _setStub(DistributedObjectStub* stub);
	DistributedObjectStub* _getStub();

};

#endif /*BAZAARMANAGER_H_*/
