/*
 *	server/zone/managers/planet/PlanetManager.h generated by engine3 IDL compiler 0.55
 */

#ifndef PLANETMANAGER_H_
#define PLANETMANAGER_H_

#include "engine/orb/DistributedObjectBroker.h"

#include "engine/util/Coordinate.h"

class Zone;

#include "server/zone/ZoneProcessServerImplementation.h"

class Player;

class ShuttleCreature;

class MissionTerminal;

class StructureManager;

class ActiveArea;

class ActiveAreaTrigger;

class PlanetManager : public DistributedObjectStub {
public:
	PlanetManager(Zone* zone, ZoneProcessServerImplementation* processor);

	void init();

	void start();

	void stop();

	unsigned long long getNextStaticObjectID(bool doLock = true);

	StructureManager* getStructureManager();

	void landShuttles();

	void takeOffShuttles();

	unsigned long long getLandingTime();

	unsigned int getTravelFare(String& departurePlanet, String& arrivalPlanet);

	ShuttleCreature* getShuttle(const String& Shuttle);

	void sendPlanetTravelPointListResponse(Player* player);

	void tutorialStepWelcome(Player* player);

	void tutorialStepStatMigration(Player* player);

	MissionTerminal* getMissionTerminal(unsigned long long oid);

	void placePlayerStructure(Player* player, unsigned long long objectID, float x, float y, int orient);

	bool isNoBuildArea(float x, float y);

	void addNoBuildArea(float x, float y, float radius);

	void weatherUpdatePlayers();

	void weatherChange();

	void weatherRemoveEvents();

	ActiveAreaTrigger* spawnActiveArea(ActiveArea* area);

	void removeActiveAreaTrigger(ActiveAreaTrigger* trigger);

protected:
	PlanetManager(DummyConstructorParameter* param);

	virtual ~PlanetManager();

	friend class PlanetManagerHelper;
};

class PlanetManagerImplementation;

class PlanetManagerAdapter : public DistributedObjectAdapter {
public:
	PlanetManagerAdapter(PlanetManagerImplementation* impl);

	Packet* invokeMethod(sys::uint32 methid, DistributedMethod* method);

	void init();

	void start();

	void stop();

	unsigned long long getNextStaticObjectID(bool doLock);

	StructureManager* getStructureManager();

	void landShuttles();

	void takeOffShuttles();

	unsigned long long getLandingTime();

	unsigned int getTravelFare(String& departurePlanet, String& arrivalPlanet);

	ShuttleCreature* getShuttle(const String& Shuttle);

	void sendPlanetTravelPointListResponse(Player* player);

	void tutorialStepWelcome(Player* player);

	void tutorialStepStatMigration(Player* player);

	MissionTerminal* getMissionTerminal(unsigned long long oid);

	void placePlayerStructure(Player* player, unsigned long long objectID, float x, float y, int orient);

	bool isNoBuildArea(float x, float y);

	void addNoBuildArea(float x, float y, float radius);

	void weatherUpdatePlayers();

	void weatherChange();

	void weatherRemoveEvents();

	ActiveAreaTrigger* spawnActiveArea(ActiveArea* area);

	void removeActiveAreaTrigger(ActiveAreaTrigger* trigger);

protected:
	String _param0_getTravelFare__String_String_;
	String _param1_getTravelFare__String_String_;
	String _param0_getShuttle__String_;
};

class PlanetManagerHelper : public DistributedObjectClassHelper, public Singleton<PlanetManagerHelper> {
	static PlanetManagerHelper* staticInitializer;

public:
	PlanetManagerHelper();

	void finalizeHelper();

	DistributedObject* instantiateObject();

	DistributedObjectAdapter* createAdapter(DistributedObjectStub* obj);

	friend class SingletonWrapper<PlanetManagerHelper>;
};

class PlanetManagerServant : public DistributedObjectServant {
public:
	PlanetManager* _this;

public:
	PlanetManagerServant();
	virtual ~PlanetManagerServant();

	void _setStub(DistributedObjectStub* stub);
	DistributedObjectStub* _getStub();

};

#endif /*PLANETMANAGER_H_*/
