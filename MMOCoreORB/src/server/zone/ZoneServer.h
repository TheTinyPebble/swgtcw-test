/*
 *	server/zone/ZoneServer.h generated by engine3 IDL compiler 0.55
 */

#ifndef ZONESERVER_H_
#define ZONESERVER_H_

#include "engine/orb/DistributedObjectBroker.h"

#include "../db/ServerDatabase.h"

class ZoneServer : public DistributedObjectStub {
public:
	ZoneServer(int threadcount, int galaxyid = 2);

	void start(int port, int conn);

	void stop();

	void startManagers();

	void changeUserCap(int amount = 50);

	void addTotalSentPacket(int count);

	void addTotalResentPacket(int count);

	void lock();

	void unlock();

	void increaseTotalDeletedPlayers();

	void printInfo();

	void fixScheduler();

	void changeMessageoftheDay(const String& newMOTD);

	void loadMessageoftheDay();

	String& getServerName();

	int getGalaxyID();

	bool isServerLocked();

	bool isServerOnline();

	bool isServerOffline();

	bool isServerLoading();

	int getServerState();

	int getConnectionCount();

	int getTotalPlayers();

	int getMaxPlayers();

	int getDeletedPlayers();

	unsigned long long getStartTimestamp();

	unsigned long long getNextCreatureID(bool doLock = true);

	unsigned long long getNextID(bool doLock = true);

	unsigned long long getNextCellID(bool doLock = true);

	String& getMessageoftheDay();

	void setServerState(int state);

	void setServerStateLocked();

	void setServerStateOnline();

protected:
	ZoneServer(DummyConstructorParameter* param);

	virtual ~ZoneServer();

	String _return_getMessageoftheDay;
	String _return_getServerName;

	friend class ZoneServerHelper;
};

class ZoneServerImplementation;

class ZoneServerAdapter : public DistributedObjectAdapter {
public:
	ZoneServerAdapter(ZoneServerImplementation* impl);

	Packet* invokeMethod(sys::uint32 methid, DistributedMethod* method);

	void start(int port, int conn);

	void stop();

	void startManagers();

	void changeUserCap(int amount);

	void addTotalSentPacket(int count);

	void addTotalResentPacket(int count);

	void lock();

	void unlock();

	void increaseTotalDeletedPlayers();

	void printInfo();

	void fixScheduler();

	void changeMessageoftheDay(const String& newMOTD);

	void loadMessageoftheDay();

	String& getServerName();

	int getGalaxyID();

	bool isServerLocked();

	bool isServerOnline();

	bool isServerOffline();

	bool isServerLoading();

	int getServerState();

	int getConnectionCount();

	int getTotalPlayers();

	int getMaxPlayers();

	int getDeletedPlayers();

	unsigned long long getStartTimestamp();

	unsigned long long getNextCreatureID(bool doLock);

	unsigned long long getNextID(bool doLock);

	unsigned long long getNextCellID(bool doLock);

	String& getMessageoftheDay();

	void setServerState(int state);

	void setServerStateLocked();

	void setServerStateOnline();

protected:
	String _param0_changeMessageoftheDay__String_;
};

class ZoneServerHelper : public DistributedObjectClassHelper, public Singleton<ZoneServerHelper> {
	static ZoneServerHelper* staticInitializer;

public:
	ZoneServerHelper();

	void finalizeHelper();

	DistributedObject* instantiateObject();

	DistributedObjectAdapter* createAdapter(DistributedObjectStub* obj);

	friend class SingletonWrapper<ZoneServerHelper>;
};

class ZoneServerServant : public DistributedObjectServant {
public:
	ZoneServer* _this;

public:
	ZoneServerServant();
	virtual ~ZoneServerServant();

	void _setStub(DistributedObjectStub* stub);
	DistributedObjectStub* _getStub();

};

#endif /*ZONESERVER_H_*/
