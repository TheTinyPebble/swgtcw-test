/*
 *	server/zone/objects/player/PlayerObject.cpp generated by engine3 IDL compiler 0.60
 */

#include "PlayerObject.h"

#include "server/zone/ZoneClientSession.h"

/*
 *	PlayerObjectStub
 */

PlayerObject::PlayerObject(LuaObject* templateData) : IntangibleObject(DummyConstructorParameter::instance()) {
	_impl = new PlayerObjectImplementation(templateData);
	_impl->_setStub(this);
	_impl->_setClassHelper(PlayerObjectHelper::instance());

	((PlayerObjectImplementation*) _impl)->_serializationHelperMethod();
}

PlayerObject::PlayerObject(DummyConstructorParameter* param) : IntangibleObject(param) {
}

PlayerObject::~PlayerObject() {
}

void PlayerObject::sendBaselinesTo(SceneObject* player) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 6);
		method.addObjectParameter(player);

		method.executeWithVoidReturn();
	} else
		((PlayerObjectImplementation*) _impl)->sendBaselinesTo(player);
}

unsigned int PlayerObject::getCharacterBitmask() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 7);

		return method.executeWithUnsignedIntReturn();
	} else
		return ((PlayerObjectImplementation*) _impl)->getCharacterBitmask();
}

String PlayerObject::getTitle() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 8);

		method.executeWithAsciiReturn(_return_getTitle);
		return _return_getTitle;
	} else
		return ((PlayerObjectImplementation*) _impl)->getTitle();
}

unsigned int PlayerObject::getAdminLevel() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 9);

		return method.executeWithUnsignedIntReturn();
	} else
		return ((PlayerObjectImplementation*) _impl)->getAdminLevel();
}

void PlayerObject::setCharacterBitmask(unsigned int bitmask) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 10);
		method.addUnsignedIntParameter(bitmask);

		method.executeWithVoidReturn();
	} else
		((PlayerObjectImplementation*) _impl)->setCharacterBitmask(bitmask);
}

bool PlayerObject::setCharacterBit(unsigned int bit, bool notifyClient) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 11);
		method.addUnsignedIntParameter(bit);
		method.addBooleanParameter(notifyClient);

		return method.executeWithBooleanReturn();
	} else
		return ((PlayerObjectImplementation*) _impl)->setCharacterBit(bit, notifyClient);
}

bool PlayerObject::clearCharacterBit(unsigned int bit, bool notifyClient) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 12);
		method.addUnsignedIntParameter(bit);
		method.addBooleanParameter(notifyClient);

		return method.executeWithBooleanReturn();
	} else
		return ((PlayerObjectImplementation*) _impl)->clearCharacterBit(bit, notifyClient);
}

void PlayerObject::setTitle(const String& characterTitle) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 13);
		method.addAsciiParameter(characterTitle);

		method.executeWithVoidReturn();
	} else
		((PlayerObjectImplementation*) _impl)->setTitle(characterTitle);
}

/*
 *	PlayerObjectImplementation
 */

PlayerObjectImplementation::~PlayerObjectImplementation() {
}

void PlayerObjectImplementation::_setStub(DistributedObjectStub* stub) {
	_this = (PlayerObject*) stub;
	IntangibleObjectImplementation::_setStub(stub);
}

DistributedObjectStub* PlayerObjectImplementation::_getStub() {
	return _this;
}

PlayerObjectImplementation::operator const PlayerObject*() {
	return _this;
}

void PlayerObjectImplementation::lock(bool doLock) {
	_this->lock(doLock);
}

void PlayerObjectImplementation::lock(ManagedObject* obj) {
	_this->lock(obj);
}

void PlayerObjectImplementation::rlock(bool doLock) {
	_this->rlock(doLock);
}

void PlayerObjectImplementation::wlock(bool doLock) {
	_this->wlock(doLock);
}

void PlayerObjectImplementation::wlock(ManagedObject* obj) {
	_this->wlock(obj);
}

void PlayerObjectImplementation::unlock(bool doLock) {
	_this->unlock(doLock);
}

void PlayerObjectImplementation::runlock(bool doLock) {
	_this->runlock(doLock);
}

void PlayerObjectImplementation::_serializationHelperMethod() {
	IntangibleObjectImplementation::_serializationHelperMethod();

	addSerializableVariable("characterBitmask", &characterBitmask);
	addSerializableVariable("title", &title);
	addSerializableVariable("adminLevel", &adminLevel);
}

unsigned int PlayerObjectImplementation::getCharacterBitmask() {
	// server/zone/objects/player/PlayerObject.idl(82):  return characterBitmask;
	return characterBitmask;
}

String PlayerObjectImplementation::getTitle() {
	// server/zone/objects/player/PlayerObject.idl(86):  return title;
	return title;
}

unsigned int PlayerObjectImplementation::getAdminLevel() {
	// server/zone/objects/player/PlayerObject.idl(90):  return adminLevel;
	return adminLevel;
}

void PlayerObjectImplementation::setCharacterBitmask(unsigned int bitmask) {
	// server/zone/objects/player/PlayerObject.idl(94):  characterBitmask = bitmask;
	characterBitmask = bitmask;
}

void PlayerObjectImplementation::setTitle(const String& characterTitle) {
	// server/zone/objects/player/PlayerObject.idl(101):  title = characterTitle;
	title = characterTitle;
}

/*
 *	PlayerObjectAdapter
 */

PlayerObjectAdapter::PlayerObjectAdapter(PlayerObjectImplementation* obj) : IntangibleObjectAdapter(obj) {
}

Packet* PlayerObjectAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case 6:
		sendBaselinesTo((SceneObject*) inv->getObjectParameter());
		break;
	case 7:
		resp->insertInt(getCharacterBitmask());
		break;
	case 8:
		resp->insertAscii(getTitle());
		break;
	case 9:
		resp->insertInt(getAdminLevel());
		break;
	case 10:
		setCharacterBitmask(inv->getUnsignedIntParameter());
		break;
	case 11:
		resp->insertBoolean(setCharacterBit(inv->getUnsignedIntParameter(), inv->getBooleanParameter()));
		break;
	case 12:
		resp->insertBoolean(clearCharacterBit(inv->getUnsignedIntParameter(), inv->getBooleanParameter()));
		break;
	case 13:
		setTitle(inv->getAsciiParameter(_param0_setTitle__String_));
		break;
	default:
		return NULL;
	}

	return resp;
}

void PlayerObjectAdapter::sendBaselinesTo(SceneObject* player) {
	((PlayerObjectImplementation*) impl)->sendBaselinesTo(player);
}

unsigned int PlayerObjectAdapter::getCharacterBitmask() {
	return ((PlayerObjectImplementation*) impl)->getCharacterBitmask();
}

String PlayerObjectAdapter::getTitle() {
	return ((PlayerObjectImplementation*) impl)->getTitle();
}

unsigned int PlayerObjectAdapter::getAdminLevel() {
	return ((PlayerObjectImplementation*) impl)->getAdminLevel();
}

void PlayerObjectAdapter::setCharacterBitmask(unsigned int bitmask) {
	((PlayerObjectImplementation*) impl)->setCharacterBitmask(bitmask);
}

bool PlayerObjectAdapter::setCharacterBit(unsigned int bit, bool notifyClient) {
	return ((PlayerObjectImplementation*) impl)->setCharacterBit(bit, notifyClient);
}

bool PlayerObjectAdapter::clearCharacterBit(unsigned int bit, bool notifyClient) {
	return ((PlayerObjectImplementation*) impl)->clearCharacterBit(bit, notifyClient);
}

void PlayerObjectAdapter::setTitle(const String& characterTitle) {
	((PlayerObjectImplementation*) impl)->setTitle(characterTitle);
}

/*
 *	PlayerObjectHelper
 */

PlayerObjectHelper* PlayerObjectHelper::staticInitializer = PlayerObjectHelper::instance();

PlayerObjectHelper::PlayerObjectHelper() {
	className = "PlayerObject";

	DistributedObjectBroker::instance()->registerClass(className, this);
}

void PlayerObjectHelper::finalizeHelper() {
	PlayerObjectHelper::finalize();
}

DistributedObject* PlayerObjectHelper::instantiateObject() {
	return new PlayerObject(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* PlayerObjectHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new PlayerObjectAdapter((PlayerObjectImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

