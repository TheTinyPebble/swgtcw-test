/*
 *	server/zone/objects/draftschematic/DraftSchematic.cpp generated by engine3 IDL compiler 0.60
 */

#include "DraftSchematic.h"

#include "server/zone/packets/scene/AttributeListMessage.h"

#include "server/zone/templates/SharedObjectTemplate.h"

#include "server/zone/objects/player/PlayerCreature.h"

#include "server/zone/objects/area/ActiveArea.h"


// Imported class dependencies

#include "engine/core/ObjectUpdateToDatabaseTask.h"

#include "system/util/VectorMap.h"

#include "server/zone/templates/SharedObjectTemplate.h"

#include "server/zone/ZoneClientSession.h"

#include "system/util/SortedVector.h"

#include "server/zone/objects/player/TradeContainer.h"

#include "server/zone/objects/creature/CreatureObject.h"

#include "system/lang/Time.h"

#include "system/util/Vector.h"

#include "server/zone/objects/tangible/tool/CraftingTool.h"

#include "server/zone/objects/player/events/PlayerRecoveryEvent.h"

#include "server/zone/Zone.h"

#include "server/zone/objects/tangible/tool/SurveyTool.h"

#include "server/zone/ZoneProcessServerImplementation.h"

#include "server/zone/objects/player/events/PlayerDisconnectEvent.h"

#include "server/zone/objects/player/badges/Badges.h"

#include "server/zone/objects/scene/variables/PendingTasksMap.h"

#include "server/zone/objects/scene/SceneObject.h"

#include "server/zone/objects/scene/variables/StringId.h"

#include "engine/util/Quaternion.h"

#include "server/zone/objects/scene/ObserverEventMap.h"

/*
 *	DraftSchematicStub
 */

DraftSchematic::DraftSchematic() : IntangibleObject(DummyConstructorParameter::instance()) {
	DraftSchematicImplementation* _implementation = new DraftSchematicImplementation();
	ManagedObject::_setImplementation(_implementation);
	_implementation->_setStub(this);
}

DraftSchematic::DraftSchematic(DummyConstructorParameter* param) : IntangibleObject(param) {
}

DraftSchematic::~DraftSchematic() {
}


void DraftSchematic::initializeTransientMembers() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 6);

		method.executeWithVoidReturn();
	} else
		_implementation->initializeTransientMembers();
}

void DraftSchematic::loadTemplateData(SharedObjectTemplate* templateData) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		_implementation->loadTemplateData(templateData);
}

void DraftSchematic::fillAttributeList(AttributeListMessage* msg, PlayerCreature* object) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		_implementation->fillAttributeList(msg, object);
}

void DraftSchematic::sendBaselinesTo(SceneObject* player) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 7);
		method.addObjectParameter(player);

		method.executeWithVoidReturn();
	} else
		_implementation->sendBaselinesTo(player);
}

void DraftSchematic::sendDraftSlotsTo(PlayerCreature* player) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 8);
		method.addObjectParameter(player);

		method.executeWithVoidReturn();
	} else
		_implementation->sendDraftSlotsTo(player);
}

void DraftSchematic::sendResourceWeightsTo(PlayerCreature* player) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 9);
		method.addObjectParameter(player);

		method.executeWithVoidReturn();
	} else
		_implementation->sendResourceWeightsTo(player);
}

SceneObject* DraftSchematic::createManufactureSchematic(SceneObject* craftingTool) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 10);
		method.addObjectParameter(craftingTool);

		return (SceneObject*) method.executeWithObjectReturn();
	} else
		return _implementation->createManufactureSchematic(craftingTool);
}

void DraftSchematic::setSchematicID(unsigned int id) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 11);
		method.addUnsignedIntParameter(id);

		method.executeWithVoidReturn();
	} else
		_implementation->setSchematicID(id);
}

unsigned int DraftSchematic::getSchematicID() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 12);

		return method.executeWithUnsignedIntReturn();
	} else
		return _implementation->getSchematicID();
}

int DraftSchematic::getDraftSlotCount() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 13);

		return method.executeWithSignedIntReturn();
	} else
		return _implementation->getDraftSlotCount();
}

DraftSlot* DraftSchematic::getDraftSlot(int i) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return _implementation->getDraftSlot(i);
}

int DraftSchematic::getResourceWeightCount() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 14);

		return method.executeWithSignedIntReturn();
	} else
		return _implementation->getResourceWeightCount();
}

ResourceWeight* DraftSchematic::getResourceWeight(int i) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return _implementation->getResourceWeight(i);
}

float DraftSchematic::getComplexity() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 15);

		return method.executeWithFloatReturn();
	} else
		return _implementation->getComplexity();
}

unsigned int DraftSchematic::getToolTab() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 16);

		return method.executeWithUnsignedIntReturn();
	} else
		return _implementation->getToolTab();
}

float DraftSchematic::getSize() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 17);

		return method.executeWithFloatReturn();
	} else
		return _implementation->getSize();
}

String DraftSchematic::getXpType() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 18);

		method.executeWithAsciiReturn(_return_getXpType);
		return _return_getXpType;
	} else
		return _implementation->getXpType();
}

int DraftSchematic::getXpAmount() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 19);

		return method.executeWithSignedIntReturn();
	} else
		return _implementation->getXpAmount();
}

String DraftSchematic::getAssemblySkill() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 20);

		method.executeWithAsciiReturn(_return_getAssemblySkill);
		return _return_getAssemblySkill;
	} else
		return _implementation->getAssemblySkill();
}

String DraftSchematic::getExperimentationSkill() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 21);

		method.executeWithAsciiReturn(_return_getExperimentationSkill);
		return _return_getExperimentationSkill;
	} else
		return _implementation->getExperimentationSkill();
}

String DraftSchematic::getCustomizationSkill() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 22);

		method.executeWithAsciiReturn(_return_getCustomizationSkill);
		return _return_getCustomizationSkill;
	} else
		return _implementation->getCustomizationSkill();
}

Vector<byte>* DraftSchematic::getCustomizationOptions() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return _implementation->getCustomizationOptions();
}

Vector<String>* DraftSchematic::getCustomizationStringNames() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return _implementation->getCustomizationStringNames();
}

Vector<byte>* DraftSchematic::getCustomizationDefaultValues() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		throw ObjectNotLocalException(this);

	} else
		return _implementation->getCustomizationDefaultValues();
}

String DraftSchematic::getCustomName() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 23);

		method.executeWithAsciiReturn(_return_getCustomName);
		return _return_getCustomName;
	} else
		return _implementation->getCustomName();
}

unsigned int DraftSchematic::getTanoCRC() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 24);

		return method.executeWithUnsignedIntReturn();
	} else
		return _implementation->getTanoCRC();
}

String DraftSchematic::getGroupName() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 25);

		method.executeWithAsciiReturn(_return_getGroupName);
		return _return_getGroupName;
	} else
		return _implementation->getGroupName();
}

int DraftSchematic::getUseCount() {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 26);

		return method.executeWithSignedIntReturn();
	} else
		return _implementation->getUseCount();
}

void DraftSchematic::setUseCount(int count) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 27);
		method.addSignedIntParameter(count);

		method.executeWithVoidReturn();
	} else
		_implementation->setUseCount(count);
}

void DraftSchematic::decreaseUseCount(int count) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 28);
		method.addSignedIntParameter(count);

		method.executeWithVoidReturn();
	} else
		_implementation->decreaseUseCount(count);
}

void DraftSchematic::increaseUseCount(int count) {
	DraftSchematicImplementation* _implementation = (DraftSchematicImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 29);
		method.addSignedIntParameter(count);

		method.executeWithVoidReturn();
	} else
		_implementation->increaseUseCount(count);
}

DistributedObjectServant* DraftSchematic::_getImplementation() {
	return getForUpdate();}

void DraftSchematic::_setImplementation(DistributedObjectServant* servant) {
	setObject((ManagedObjectImplementation*) servant);}

/*
 *	DraftSchematicImplementation
 */

DraftSchematicImplementation::DraftSchematicImplementation(DummyConstructorParameter* param) : IntangibleObjectImplementation(param) {
	_initializeImplementation();
}


DraftSchematicImplementation::~DraftSchematicImplementation() {
}


void DraftSchematicImplementation::finalize() {
}

void DraftSchematicImplementation::_initializeImplementation() {
	_setClassHelper(DraftSchematicHelper::instance());

	_serializationHelperMethod();
}

void DraftSchematicImplementation::_setStub(DistributedObjectStub* stub) {
	_this = (DraftSchematic*) stub;
	IntangibleObjectImplementation::_setStub(stub);
}

DistributedObjectStub* DraftSchematicImplementation::_getStub() {
	return _this;
}

DraftSchematicImplementation::operator const DraftSchematic*() {
	return _this;
}

TransactionalObject* DraftSchematicImplementation::clone() {
	return (TransactionalObject*) new DraftSchematicImplementation(*this);
}


void DraftSchematicImplementation::lock(bool doLock) {
}

void DraftSchematicImplementation::lock(ManagedObject* obj) {
}

void DraftSchematicImplementation::rlock(bool doLock) {
}

void DraftSchematicImplementation::wlock(bool doLock) {
}

void DraftSchematicImplementation::wlock(ManagedObject* obj) {
}

void DraftSchematicImplementation::unlock(bool doLock) {
}

void DraftSchematicImplementation::runlock(bool doLock) {
}

void DraftSchematicImplementation::_serializationHelperMethod() {
	IntangibleObjectImplementation::_serializationHelperMethod();

	_setClassName("DraftSchematic");

	addSerializableVariable("schematicID", &schematicID);
	addSerializableVariable("useCount", &useCount);
}

DraftSchematicImplementation::DraftSchematicImplementation() {
	_initializeImplementation();
	// server/zone/objects/draftschematic/DraftSchematic.idl(70):  		Logger.setLoggingName("DraftSchematic");
	Logger::setLoggingName("DraftSchematic");
}

void DraftSchematicImplementation::setSchematicID(unsigned int id) {
	// server/zone/objects/draftschematic/DraftSchematic.idl(128):  		schematicID = id;
	schematicID = id;
}

unsigned int DraftSchematicImplementation::getSchematicID() {
	// server/zone/objects/draftschematic/DraftSchematic.idl(136):  		return schematicID;
	return schematicID;
}

int DraftSchematicImplementation::getUseCount() {
	// server/zone/objects/draftschematic/DraftSchematic.idl(209):  		return useCount;
	return useCount;
}

void DraftSchematicImplementation::setUseCount(int count) {
	// server/zone/objects/draftschematic/DraftSchematic.idl(213):  		useCount = count;
	useCount = count;
}

void DraftSchematicImplementation::decreaseUseCount(int count) {
	// server/zone/objects/draftschematic/DraftSchematic.idl(217):  		setUseCount(useCount - 1);
	setUseCount(useCount - 1);
}

void DraftSchematicImplementation::increaseUseCount(int count) {
	// server/zone/objects/draftschematic/DraftSchematic.idl(221):  		setUseCount(useCount + count);
	setUseCount(useCount + count);
}

/*
 *	DraftSchematicAdapter
 */

DraftSchematicAdapter::DraftSchematicAdapter(DraftSchematicImplementation* obj) : IntangibleObjectAdapter(obj) {
}

Packet* DraftSchematicAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case 6:
		initializeTransientMembers();
		break;
	case 7:
		sendBaselinesTo((SceneObject*) inv->getObjectParameter());
		break;
	case 8:
		sendDraftSlotsTo((PlayerCreature*) inv->getObjectParameter());
		break;
	case 9:
		sendResourceWeightsTo((PlayerCreature*) inv->getObjectParameter());
		break;
	case 10:
		resp->insertLong(createManufactureSchematic((SceneObject*) inv->getObjectParameter())->_getObjectID());
		break;
	case 11:
		setSchematicID(inv->getUnsignedIntParameter());
		break;
	case 12:
		resp->insertInt(getSchematicID());
		break;
	case 13:
		resp->insertSignedInt(getDraftSlotCount());
		break;
	case 14:
		resp->insertSignedInt(getResourceWeightCount());
		break;
	case 15:
		resp->insertFloat(getComplexity());
		break;
	case 16:
		resp->insertInt(getToolTab());
		break;
	case 17:
		resp->insertFloat(getSize());
		break;
	case 18:
		resp->insertAscii(getXpType());
		break;
	case 19:
		resp->insertSignedInt(getXpAmount());
		break;
	case 20:
		resp->insertAscii(getAssemblySkill());
		break;
	case 21:
		resp->insertAscii(getExperimentationSkill());
		break;
	case 22:
		resp->insertAscii(getCustomizationSkill());
		break;
	case 23:
		resp->insertAscii(getCustomName());
		break;
	case 24:
		resp->insertInt(getTanoCRC());
		break;
	case 25:
		resp->insertAscii(getGroupName());
		break;
	case 26:
		resp->insertSignedInt(getUseCount());
		break;
	case 27:
		setUseCount(inv->getSignedIntParameter());
		break;
	case 28:
		decreaseUseCount(inv->getSignedIntParameter());
		break;
	case 29:
		increaseUseCount(inv->getSignedIntParameter());
		break;
	default:
		return NULL;
	}

	return resp;
}

void DraftSchematicAdapter::initializeTransientMembers() {
	((DraftSchematicImplementation*) impl)->initializeTransientMembers();
}

void DraftSchematicAdapter::sendBaselinesTo(SceneObject* player) {
	((DraftSchematicImplementation*) impl)->sendBaselinesTo(player);
}

void DraftSchematicAdapter::sendDraftSlotsTo(PlayerCreature* player) {
	((DraftSchematicImplementation*) impl)->sendDraftSlotsTo(player);
}

void DraftSchematicAdapter::sendResourceWeightsTo(PlayerCreature* player) {
	((DraftSchematicImplementation*) impl)->sendResourceWeightsTo(player);
}

SceneObject* DraftSchematicAdapter::createManufactureSchematic(SceneObject* craftingTool) {
	return ((DraftSchematicImplementation*) impl)->createManufactureSchematic(craftingTool);
}

void DraftSchematicAdapter::setSchematicID(unsigned int id) {
	((DraftSchematicImplementation*) impl)->setSchematicID(id);
}

unsigned int DraftSchematicAdapter::getSchematicID() {
	return ((DraftSchematicImplementation*) impl)->getSchematicID();
}

int DraftSchematicAdapter::getDraftSlotCount() {
	return ((DraftSchematicImplementation*) impl)->getDraftSlotCount();
}

int DraftSchematicAdapter::getResourceWeightCount() {
	return ((DraftSchematicImplementation*) impl)->getResourceWeightCount();
}

float DraftSchematicAdapter::getComplexity() {
	return ((DraftSchematicImplementation*) impl)->getComplexity();
}

unsigned int DraftSchematicAdapter::getToolTab() {
	return ((DraftSchematicImplementation*) impl)->getToolTab();
}

float DraftSchematicAdapter::getSize() {
	return ((DraftSchematicImplementation*) impl)->getSize();
}

String DraftSchematicAdapter::getXpType() {
	return ((DraftSchematicImplementation*) impl)->getXpType();
}

int DraftSchematicAdapter::getXpAmount() {
	return ((DraftSchematicImplementation*) impl)->getXpAmount();
}

String DraftSchematicAdapter::getAssemblySkill() {
	return ((DraftSchematicImplementation*) impl)->getAssemblySkill();
}

String DraftSchematicAdapter::getExperimentationSkill() {
	return ((DraftSchematicImplementation*) impl)->getExperimentationSkill();
}

String DraftSchematicAdapter::getCustomizationSkill() {
	return ((DraftSchematicImplementation*) impl)->getCustomizationSkill();
}

String DraftSchematicAdapter::getCustomName() {
	return ((DraftSchematicImplementation*) impl)->getCustomName();
}

unsigned int DraftSchematicAdapter::getTanoCRC() {
	return ((DraftSchematicImplementation*) impl)->getTanoCRC();
}

String DraftSchematicAdapter::getGroupName() {
	return ((DraftSchematicImplementation*) impl)->getGroupName();
}

int DraftSchematicAdapter::getUseCount() {
	return ((DraftSchematicImplementation*) impl)->getUseCount();
}

void DraftSchematicAdapter::setUseCount(int count) {
	((DraftSchematicImplementation*) impl)->setUseCount(count);
}

void DraftSchematicAdapter::decreaseUseCount(int count) {
	((DraftSchematicImplementation*) impl)->decreaseUseCount(count);
}

void DraftSchematicAdapter::increaseUseCount(int count) {
	((DraftSchematicImplementation*) impl)->increaseUseCount(count);
}

/*
 *	DraftSchematicHelper
 */

DraftSchematicHelper* DraftSchematicHelper::staticInitializer = DraftSchematicHelper::instance();

DraftSchematicHelper::DraftSchematicHelper() {
	className = "DraftSchematic";

	DistributedObjectBroker::instance()->registerClass(className, this);
}

void DraftSchematicHelper::finalizeHelper() {
	DraftSchematicHelper::finalize();
}

DistributedObject* DraftSchematicHelper::instantiateObject() {
	return new DraftSchematic(DummyConstructorParameter::instance());
}

DistributedObjectServant* DraftSchematicHelper::instantiateServant() {
	return new DraftSchematicImplementation(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* DraftSchematicHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new DraftSchematicAdapter((DraftSchematicImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

